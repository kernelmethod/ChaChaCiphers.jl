<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · ChaChaCiphers.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://kernelmethod.github.io/ChaChaCiphers.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>ChaChaCiphers.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Basic-usage"><span>Basic usage</span></a></li><li><a class="tocitem" href="#About-ChaCha"><span>About ChaCha</span></a></li><li><a class="tocitem" href="#Warnings-and-disclaimers"><span>Warnings and disclaimers</span></a></li></ul></li><li><a class="tocitem" href="api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/kernelmethod/ChaChaCiphers.jl/blob/master/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="ChaChaCiphers"><a class="docs-heading-anchor" href="#ChaChaCiphers">ChaChaCiphers</a><a id="ChaChaCiphers-1"></a><a class="docs-heading-anchor-permalink" href="#ChaChaCiphers" title="Permalink"></a></h1><p><a href="https://github.com/kernelmethod/ChaChaCiphers.jl">ChaChaCiphers</a> is a CUDA-compatible, pure-Julia implementation of the ChaCha family of stream ciphers. This package provides:</p><ul><li>fast, cryptographically-secure, and reproducible random number generators implementing Julia&#39;s <code>AbstractRNG</code> interface for both CPU and GPU, and</li><li>implementations of ChaCha stream ciphers such as ChaCha20 that can be used as building blocks for other cryptographic primitives, such as ChaCha20-Poly1305.</li></ul><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>ChaCha is not sufficient by itself for encrypting data, and misuse can compromise application security. Please review <a href="#warnings-and-disclaimers">the warnings section</a> for more details.</p></div></div><h2 id="Basic-usage"><a class="docs-heading-anchor" href="#Basic-usage">Basic usage</a><a id="Basic-usage-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-usage" title="Permalink"></a></h2><p>To start generating random numbers with ChaChaCiphers, create a new keystream with a function like <a href="api/#ChaChaCiphers.ChaCha20Stream-Tuple"><code>ChaCha20Stream</code></a> or <a href="api/#ChaChaCiphers.ChaCha12Stream-Tuple"><code>ChaCha12Stream</code></a>:</p><pre><code class="language-julia-repl hljs">julia&gt; using ChaChaCiphers

julia&gt; rng = ChaCha20Stream();</code></pre><p>This will generate a keystream using a key sampled from the operating system&#39;s random stream. Alternatively,  you can explicitly specify a <code>key</code> and <code>nonce</code> as follows:</p><pre><code class="language-julia-repl hljs">julia&gt; key = UInt32.([
          0xe2e39848, 0x70bb974d, 0x845f88b4, 0xb30725e4,
          0x15c309dc, 0x72d545bb, 0x466e99e3, 0x6a759f91
       ]);

julia&gt; nonce = UInt64(0);

julia&gt; rng = ChaCha20Stream(key, nonce);</code></pre><p>After generating a keystream, you can supply it as the <code>rng</code> parameter to <code>Random</code> functions like <code>rand</code> and <code>randn</code>:</p><pre><code class="language-julia-repl hljs">julia&gt; using Random

julia&gt; rand(rng, 1:10)
3

julia&gt; randn(rng, Float32, 3)
3-element Vector{Float32}:
 -0.50947624
 -0.9306026
 -0.084067896</code></pre><p>Review the API documentation for more details.</p><h2 id="About-ChaCha"><a class="docs-heading-anchor" href="#About-ChaCha">About ChaCha</a><a id="About-ChaCha-1"></a><a class="docs-heading-anchor-permalink" href="#About-ChaCha" title="Permalink"></a></h2><p>ChaCha was first introduced as a variant of the Salsa20 stream cipher by Daniel Bernstein in 2008<sup class="footnote-reference"><a id="citeref-Bernstein08" href="#footnote-Bernstein08">[Bernstein08]</a></sup>. ChaCha produces a stream of 512-bit blocks that act as a CRNG seeded with a key and nonce.</p><p>ChaCha is used as the basis for the Linux kernel&#39;s CRNG<sup class="footnote-reference"><a id="citeref-LWN16" href="#footnote-LWN16">[LWN16]</a></sup>. It is one of the two major components of the ChaCha20-Poly1305 Authenticated Encryption with Associated Data (AEAD) algorithm specified by IETF RFC 8439<sup class="footnote-reference"><a id="citeref-RFC8439" href="#footnote-RFC8439">[RFC8439]</a></sup>, which in turn is used by <a href="https://datatracker.ietf.org/doc/html/rfc7905">TLS</a>, <a href="http://bxr.su/OpenBSD/usr.bin/ssh/PROTOCOL.chacha20poly1305">OpenSSH</a>, <a href="https://www.wireguard.com/protocol/">Wireguard</a>, and more.</p><p>ChaCha makes it easy to seek to any given portion of the keystream, which allows extremely efficient parallel computation on CPU and GPU. It can also be computed in constant time very efficiently in software, whereas comparable symmetric ciphers (e.g. AES-CTR) require hardware support to achieve the same performance.</p><h2 id="Warnings-and-disclaimers"><a class="docs-heading-anchor" href="#Warnings-and-disclaimers">Warnings and disclaimers</a><a id="Warnings-and-disclaimers-1"></a><a class="docs-heading-anchor-permalink" href="#Warnings-and-disclaimers" title="Permalink"></a></h2><h3 id="Security"><a class="docs-heading-anchor" href="#Security">Security</a><a id="Security-1"></a><a class="docs-heading-anchor-permalink" href="#Security" title="Permalink"></a></h3><p>ChaCha is not by itself sufficient to keep your data secure. In particular, it doesn&#39;t provide any guarantees of data integrity or authenticity, and the ciphertexts it produces are <a href="https://en.wikipedia.org/wiki/Malleability_%28cryptography%29_">malleable</a>.</p><p>Most likely, if you are looking for an algorithm to encrypt your data, you&#39;ll want an <a href="https://en.wikipedia.org/wiki/Authenticated_encryption">AEAD algorithm</a> such as <a href="https://datatracker.ietf.org/doc/html/rfc8439">ChaCha20-Poly1305</a> or <a href="https://datatracker.ietf.org/doc/html/rfc8452">AES-GCM</a>.</p><p>This package has not received a formal security analysis from an external party. Please use with caution.</p><h3 id="Alternatives"><a class="docs-heading-anchor" href="#Alternatives">Alternatives</a><a id="Alternatives-1"></a><a class="docs-heading-anchor-permalink" href="#Alternatives" title="Permalink"></a></h3><p>If you don&#39;t strictly need a cryptographically secure random number generator, you should consider using <a href="https://docs.julialang.org/en/v1/stdlib/Random/">Julia&#39;s built-in RNG</a>, which as of v1.7 uses <a href="https://prng.di.unimi.it/">Xoshiro256++</a> and can easily beat ChaCha by an order of magnitude or more in speed.</p><p>Alternatively, if you need a CRNG but don&#39;t care about reproducibility, you may wish to consider using <a href="https://docs.julialang.org/en/v1/stdlib/Random/#Random.RandomDevice"><code>RandomDevice</code></a> from Julia&#39;s standard library, which pulls from the operating system&#39;s random stream. In practice however <a href="api/#ChaChaCiphers.ChaChaStream"><code>ChaChaStream</code></a> may be much faster than using <code>RandomDevice</code>.</p><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-Bernstein08"><a class="tag is-link" href="#citeref-Bernstein08">Bernstein08</a>&quot;ChaCha, a variant of Salsa20&quot;: <a href="https://cr.yp.to/chacha/chacha-20080128.pdf">https://cr.yp.to/chacha/chacha-20080128.pdf</a></li><li class="footnote" id="footnote-LWN16"><a class="tag is-link" href="#citeref-LWN16">LWN16</a>&quot;Replacing /dev/urandom&quot;: <a href="https://lwn.net/Articles/686033/">https://lwn.net/Articles/686033/</a></li><li class="footnote" id="footnote-RFC8439"><a class="tag is-link" href="#citeref-RFC8439">RFC8439</a><a href="https://datatracker.ietf.org/doc/html/rfc8439">IETF RFC 8439</a></li></ul></section></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="api/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.16 on <span class="colophon-date" title="Wednesday 11 May 2022 02:12">Wednesday 11 May 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
